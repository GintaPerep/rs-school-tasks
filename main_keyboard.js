(()=>{"use strict";var e={21:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(81),n=t.n(a),c=t(645),r=t.n(c)()(n());r.push([e.id,"footer .footerTitle{font-size:20px;color:#0a4102;font-style:italic;font-weight:bold;margin:5px 5px;padding:10px 70px 5px;text-align:center}footer .language{font-size:20px;color:#890b2f;font-style:italic;font-weight:bold;margin:5px 10px;padding:5px 70px 10px;text-align:center}",""]);const i=r},523:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(81),n=t.n(a),c=t(645),r=t.n(c)()(n());r.push([e.id,"header .headerTitle{font-size:45px;color:#2b1454;font-style:italic;font-weight:bold}header h1{margin:20px 5px 10px;padding:30px 70px 10px;text-align:center}",""]);const i=r},701:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(81),n=t.n(a),c=t(645),r=t.n(c)()(n());r.push([e.id,".keyboardBody{width:855px;margin:0 auto;padding:5px;padding-left:0;padding-bottom:0;background:#97c759;border:4px solid #3b5f0f;border-radius:6px}.keyboardBody .keyboardRow{clear:both;width:100%;height:50px;margin-bottom:8px}.keyboardBody .key{float:left;width:50px;height:50px;margin-left:6px;font-weight:500;line-height:50px;color:#f0f8e7;font-size:1.2rem;background:#304c10;border-radius:4px;outline:none;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:border-radius .1s,background-color .1s}.keyboardBody .key:hover{background:#fd9866;font-size:1.3rem}.keyboardBody .key.pressed{background:#c84012;border-radius:50px}.keyboardBody .key.active{background-color:#da490b;border-radius:20px}.keyboardBody .ShiftLeft,.keyboardBody .ShiftRight,.keyboardBody .Enter,.keyboardBody .CapsLock{width:113px}.keyboardBody .Tab{width:60px}.keyboardBody .Delete{width:54px}.keyboardBody .Backspace{width:119px}.keyboardBody .Space{width:395px}.keyboardBody .ControlRight{width:53px}.keyboardBody .ShiftLeft,.keyboardBody .ShiftRight,.keyboardBody .Enter,.keyboardBody .CapsLock,.keyboardBody .Tab,.keyboardBody .Backspace,.keyboardBody .Delete,.keyboardBody .ArrowUp,.keyboardBody .ArrowDown,.keyboardBody .ArrowLeft,.keyboardBody .ArrowRight,.keyboardBody .ControlLeft,.keyboardBody .MetaLeft,.keyboardBody .ControlRight,.keyboardBody .AltLeft,.keyboardBody .AltRight{background-color:#af6907;font-weight:700}.keyboardBody .caseDown,.keyboardBody .caseUp,.keyboardBody .shiftCaps,.keyboardBody .caps{display:block;width:100;min-height:50px}.keyboardBody .hidden{display:none}",""]);const i=r},967:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(81),n=t.n(a),c=t(645),r=t.n(c)()(n());r.push([e.id,".output{margin:0 auto}.textarea{display:block;width:800px;height:200px;margin:10px auto 10px;resize:auto;padding:10px;overflow-wrap:break-word;border-width:1.5px;border-style:solid;border-color:#781204;background-color:#f0f1bf;color:#8c1124;font-size:20px}",""]);const i=r},513:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(81),n=t.n(a),c=t(645),r=t.n(c)()(n());r.push([e.id,'body{margin:0}body #root{margin:0 auto;width:100vw;height:100vh;background-color:rgba(193,205,25,.8470588235);background:-webkit-linear-gradient(to right, #548d8a, rgba(193, 205, 25, 0.8470588235));background:linear-gradient(to right, #548d8a, rgba(193, 205, 25, 0.8470588235));font-family:"Rubik",sans-serif}',""]);const i=r},645:e=>{e.exports=function(e){var s=[];return s.toString=function(){return this.map((function(s){var t="",a=void 0!==s[5];return s[4]&&(t+="@supports (".concat(s[4],") {")),s[2]&&(t+="@media ".concat(s[2]," {")),a&&(t+="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {")),t+=e(s),a&&(t+="}"),s[2]&&(t+="}"),s[4]&&(t+="}"),t})).join("")},s.i=function(e,t,a,n,c){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(a)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);a&&r[d[0]]||(void 0!==c&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=c),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),s.push(d))}},s}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var s=[];function t(e){for(var t=-1,a=0;a<s.length;a++)if(s[a].identifier===e){t=a;break}return t}function a(e,a){for(var c={},r=[],i=0;i<e.length;i++){var o=e[i],l=a.base?o[0]+a.base:o[0],d=c[l]||0,p="".concat(l," ").concat(d);c[l]=d+1;var h=t(p),u={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==h)s[h].references++,s[h].updater(u);else{var g=n(u,a);a.byIndex=i,s.splice(i,0,{identifier:p,updater:g,references:1})}r.push(p)}return r}function n(e,s){var t=s.domAPI(s);return t.update(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap&&s.supports===e.supports&&s.layer===e.layer)return;t.update(e=s)}else t.remove()}}e.exports=function(e,n){var c=a(e=e||[],n=n||{});return function(e){e=e||[];for(var r=0;r<c.length;r++){var i=t(c[r]);s[i].references--}for(var o=a(e,n),l=0;l<c.length;l++){var d=t(c[l]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}c=o}}},569:e=>{var s={};e.exports=function(e,t){var a=function(e){if(void 0===s[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}s[e]=t}return s[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},216:e=>{e.exports=function(e){var s=document.createElement("style");return e.setAttributes(s,e.attributes),e.insert(s,e.options),s}},565:(e,s,t)=>{e.exports=function(e){var s=t.nc;s&&e.setAttribute("nonce",s)}},795:e=>{e.exports=function(e){var s=e.insertStyleElement(e);return{update:function(t){!function(e,s,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var n=void 0!==t.layer;n&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,n&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var c=t.sourceMap;c&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),s.styleTagTransform(a,e,s.options)}(s,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)}}}},589:e=>{e.exports=function(e,s){if(s.styleSheet)s.styleSheet.cssText=e;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(e))}}}},s={};function t(a){var n=s[a];if(void 0!==n)return n.exports;var c=s[a]={id:a,exports:{}};return e[a](c,c.exports,t),c.exports}t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},t.d=(e,s)=>{for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),t.nc=void 0,(()=>{var e=t(379),s=t.n(e),a=t(795),n=t.n(a),c=t(569),r=t.n(c),i=t(565),o=t.n(i),l=t(216),d=t.n(l),p=t(589),h=t.n(p),u=t(513),g={};g.styleTagTransform=h(),g.setAttributes=o(),g.insert=r().bind(null,"head"),g.domAPI=n(),g.insertStyleElement=d(),s()(u.Z,g),u.Z&&u.Z.locals&&u.Z.locals;var f=t(523),w={};w.styleTagTransform=h(),w.setAttributes=o(),w.insert=r().bind(null,"head"),w.domAPI=n(),w.insertStyleElement=d(),s()(f.Z,w),f.Z&&f.Z.locals&&f.Z.locals;var m=t(967),y={};y.styleTagTransform=h(),y.setAttributes=o(),y.insert=r().bind(null,"head"),y.domAPI=n(),y.insertStyleElement=d(),s()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals;const D=e=>{const s=e.target.value;e.target.value+=s};var b=t(701),U={};U.styleTagTransform=h(),U.setAttributes=o(),U.insert=r().bind(null,"head"),U.domAPI=n(),U.insertStyleElement=d(),s()(b.Z,U),b.Z&&b.Z.locals&&b.Z.locals;const L=[],C={FN_Mouse:["Del","Shift","Ctrl","Alt","Win"],FN_BTN:["Backspace","Tab","Enter","CapsLock","ShiftLeft","ShiftRight","AltLeft","AltRight","ControlLeft","ControlRight","MetaLeft","Delete"],KEYS_CONFIG:L};L[0]=[{className:"Backquote",eng:{caps:"`",caseDown:"`",caseUp:"~",shiftCaps:"~"},rus:{caps:"Ё",caseDown:"ё",caseUp:"Ё",shiftCaps:"ё"}},{className:"Digit1",eng:{caps:"1",caseDown:"1",caseUp:"!",shiftCaps:"!"},rus:{caps:"1",caseDown:"1",caseUp:"!",shiftCaps:"!"}},{className:"Digit2",eng:{caps:"2",caseDown:"2",caseUp:"@",shiftCaps:"@"},rus:{caps:"2",caseDown:"2",caseUp:'"',shiftCaps:'"'}},{className:"Digit3",eng:{caps:"3",caseDown:"3",caseUp:"#",shiftCaps:"#"},rus:{caps:"3",caseDown:"3",caseUp:"№",shiftCaps:"№"}},{className:"Digit4",eng:{caps:"4",caseDown:"4",caseUp:"$",shiftCaps:"$"},rus:{caps:"4",caseDown:"4",caseUp:";",shiftCaps:";"}},{className:"Digit5",eng:{caps:"5",caseDown:"5",caseUp:"%",shiftCaps:"%"},rus:{caps:"5",caseDown:"5",caseUp:"%",shiftCaps:"%"}},{className:"Digit6",eng:{caps:"6",caseDown:"6",caseUp:"^",shiftCaps:"^"},rus:{caps:"6",caseDown:"6",caseUp:":",shiftCaps:":"}},{className:"Digit7",eng:{caps:"7",caseDown:"7",caseUp:"&",shiftCaps:"&"},rus:{caps:"7",caseDown:"7",caseUp:"?",shiftCaps:"?"}},{className:"Digit8",eng:{caps:"8",caseDown:"8",caseUp:"*",shiftCaps:"*"},rus:{caps:"8",caseDown:"8",caseUp:"*",shiftCaps:"*"}},{className:"Digit9",eng:{caps:"9",caseDown:"9",caseUp:"(",shiftCaps:"("},rus:{caps:"9",caseDown:"9",caseUp:"(",shiftCaps:"("}},{className:"Digit0",eng:{caps:"0",caseDown:"0",caseUp:")",shiftCaps:")"},rus:{caps:"0",caseDown:"0",caseUp:")",shiftCaps:")"}},{className:"Minus",eng:{caps:"-",caseDown:"-",caseUp:"_",shiftCaps:"_"},rus:{caps:"-",caseDown:"-",caseUp:"_",shiftCaps:"_"}},{className:"Equal",eng:{caps:"=",caseDown:"=",caseUp:"+",shiftCaps:"+"},rus:{caps:"=",caseDown:"=",caseUp:"+",shiftCaps:"+"}},{className:"Backspace",eng:{caseDown:"Backspace",caseUp:"Backspace"},rus:{caseDown:"Backspace",caseUp:"Backspace"}}],L[1]=[{className:"Tab",eng:{caseDown:"Tab",caseUp:"Tab"},rus:{caseDown:"Tab",caseUp:"Tab"}},{className:"KeyQ",eng:{caseDown:"q",caseUp:"Q"},rus:{caseDown:"й",caseUp:"Й"}},{className:"KeyW",eng:{caseDown:"w",caseUp:"W"},rus:{caseDown:"ц",caseUp:"Ц"}},{className:"KeyE",eng:{caseDown:"e",caseUp:"E"},rus:{caseDown:"у",caseUp:"У"}},{className:"KeyR",eng:{caseDown:"r",caseUp:"R"},rus:{caseDown:"к",caseUp:"К"}},{className:"KeyT",eng:{caseDown:"t",caseUp:"T"},rus:{caseDown:"е",caseUp:"Е"}},{className:"KeyY",eng:{caseDown:"y",caseUp:"Y"},rus:{caseDown:"н",caseUp:"Н"}},{className:"KeyU",eng:{caseDown:"u",caseUp:"U"},rus:{caseDown:"г",caseUp:"Г"}},{className:"KeyI",eng:{caseDown:"i",caseUp:"I"},rus:{caseDown:"ш",caseUp:"Ш"}},{className:"KeyO",eng:{caseDown:"o",caseUp:"O"},rus:{caseDown:"щ",caseUp:"Щ"}},{className:"KeyP",eng:{caseDown:"p",caseUp:"P"},rus:{caseDown:"з",caseUp:"З"}},{className:"BracketLeft",eng:{caps:"[",caseDown:"[",caseUp:"{",shiftCaps:"{"},rus:{caps:"Х",caseDown:"х",caseUp:"Х",shiftCaps:"х"}},{className:"BracketRight",eng:{caps:"]",caseDown:"]",caseUp:"}",shiftCaps:"}"},rus:{caps:"Ъ",caseDown:"ъ",caseUp:"Ъ",shiftCaps:"ъ"},eng:{caps:"]",caseDown:"]",caseUp:"}",shiftCaps:"}"}},{className:"Backslash",eng:{caps:"\\",caseDown:"\\",caseUp:"|",shiftCaps:"|"},rus:{caps:"\\",caseDown:"\\",caseUp:"/",shiftCaps:"/"}},{className:"Delete",eng:{caseDown:"Del",caseUp:"Del"},rus:{caseDown:"Del",caseUp:"Del"}}],L[2]=[{className:"CapsLock",eng:{caseDown:"CapsLock",caseUp:"CapsLock"},rus:{caseDown:"CapsLock",caseUp:"CapsLock"}},{className:"KeyA",eng:{caseDown:"a",caseUp:"A"},rus:{caseDown:"ф",caseUp:"Ф"}},{className:"KeyS",eng:{caseDown:"s",caseUp:"S"},rus:{caseDown:"ы",caseUp:"Ы"}},{className:"KeyD",eng:{caseDown:"d",caseUp:"D"},rus:{caseDown:"в",caseUp:"В"}},{className:"KeyF",eng:{caseDown:"f",caseUp:"F"},rus:{caseDown:"а",caseUp:"А"}},{className:"KeyG",eng:{caseDown:"g",caseUp:"G"},rus:{caseDown:"п",caseUp:"П"}},{className:"KeyH",eng:{caseDown:"h",caseUp:"H"},rus:{caseDown:"р",caseUp:"Р"}},{className:"KeyJ",eng:{caseDown:"j",caseUp:"J"},rus:{caseDown:"о",caseUp:"О"}},{className:"KeyK",eng:{caseDown:"k",caseUp:"K"},rus:{caseDown:"л",caseUp:"Л"}},{className:"KeyL",eng:{caseDown:"l",caseUp:"L"},rus:{caseDown:"д",caseUp:"Д"}},{className:"Semicolon",eng:{caps:";",caseDown:";",caseUp:":",shiftCaps:":"},rus:{caps:"Ж",caseDown:"ж",caseUp:"Ж",shiftCaps:"ж"}},{className:"Quote",eng:{caps:"'",caseDown:"'",caseUp:'"',shiftCaps:'"'},rus:{caps:"Э",caseDown:"э",caseUp:"Э",shiftCaps:"э"}},{className:"Enter",eng:{caseDown:"Enter",caseUp:"Enter"},rus:{caseDown:"Enter",caseUp:"Enter"}}],L[3]=[{className:"ShiftLeft",eng:{caseDown:"Shift",caseUp:"Shift"},rus:{caseDown:"Shift",caseUp:"Shift"}},{className:"KeyZ",eng:{caseDown:"z",caseUp:"Z"},rus:{caseDown:"я",caseUp:"Я"}},{className:"KeyX",eng:{caseDown:"x",caseUp:"X"},rus:{caseDown:"ч",caseUp:"Ч"}},{className:"KeyC",eng:{caseDown:"c",caseUp:"C"},rus:{caseDown:"с",caseUp:"С"}},{className:"KeyV",eng:{caseDown:"v",caseUp:"V"},rus:{caseDown:"м",caseUp:"М"}},{className:"KeyB",eng:{caseDown:"b",caseUp:"B"},rus:{caseDown:"и",caseUp:"И"}},{className:"KeyN",eng:{caseDown:"n",caseUp:"N"},rus:{caseDown:"т",caseUp:"Т"}},{className:"KeyM",eng:{caseDown:"m",caseUp:"M"},rus:{caseDown:"ь",caseUp:"Ь"}},{className:"Comma",eng:{caps:",",caseDown:",",caseUp:"<",shiftCaps:"<"},rus:{caps:"Б",caseDown:"б",caseUp:"Б",shiftCaps:"б"}},{className:"Period",eng:{caps:".",caseDown:".",caseUp:">",shiftCaps:">"},rus:{caps:"Ю",caseDown:"ю",caseUp:"Ю",shiftCaps:"ю"}},{className:"Slash",eng:{caps:"/",caseDown:"/",caseUp:"?",shiftCaps:"?"},rus:{caps:".",caseDown:".",caseUp:",",shiftCaps:","}},{className:"ArrowUp",eng:{caseDown:"▲",caseUp:"▲"},rus:{caseDown:"▲",caseUp:"▲"}},{className:"ShiftRight",eng:{caseDown:"Shift",caseUp:"Shift"},rus:{caseDown:"Shift",caseUp:"Shift"}}],L[4]=[{className:"ControlLeft",eng:{caseDown:"Ctrl",caseUp:"Ctrl"},rus:{caseDown:"Ctrl",caseUp:"Ctrl"}},{className:"MetaLeft",eng:{caseDown:"Win",caseUp:"Win"},rus:{caseDown:"Win",caseUp:"Win"}},{className:"AltLeft",eng:{caseDown:"Alt",caseUp:"Alt"},rus:{caseDown:"Alt",caseUp:"Alt"}},{className:"Space",eng:{caseDown:" ",caseUp:" "},rus:{caseDown:" ",caseUp:" "}},{className:"AltRight",eng:{caseDown:"Alt",caseUp:"Alt"},rus:{caseDown:"Alt",caseUp:"Alt"}},{className:"ArrowLeft",eng:{caseDown:"◄",caseUp:"◄"},rus:{caseDown:"◄",caseUp:"◄"}},{className:"ArrowDown",eng:{caseDown:"▼",caseUp:"▼"},rus:{caseDown:"▼",caseUp:"▼"}},{className:"ArrowRight",eng:{caseDown:"►",caseUp:"►"},rus:{caseDown:"►",caseUp:"►"}},{className:"ControlRight",eng:{caseDown:"Ctrl",caseUp:"Ctrl"},rus:{caseDown:"Ctrl",caseUp:"Ctrl"}}];var k=t(21),v={};v.styleTagTransform=h(),v.setAttributes=o(),v.insert=r().bind(null,"head"),v.domAPI=n(),v.insertStyleElement=d(),s()(k.Z,v),k.Z&&k.Z.locals&&k.Z.locals;(new class{constructor(){this.element=null,this.textarea=null,this.state={isShiftLeftPressed:!1,isShiftRightPressed:!1,isCapsLockPressed:!1,case:"caseDown",lang:"eng"},this.current={element:null,code:null,event:null,char:null},this.previous={element:null,code:null,event:null,char:null}}initKeyboard(){const e=document.createElement("div");e.setAttribute("id","root");const s=((e,s,t)=>{const a=document.createElement(e),n=document.createElement(s);return n.classList.add(t),n.innerHTML="RSS Virtual keyboard generated with Javascript",a.appendChild(n),a})("header","h1","headerTitle");e.appendChild(s);const t=((e,s)=>{const t=document.createElement(e),a=document.createElement(s);return t.classList.add("output"),a.classList.add("textarea"),a.setAttribute("id","textarea"),a.setAttribute("cols","70"),a.setAttribute("rows","5"),a.addEventListener("input",D),t.appendChild(a),a})("div","textarea");this.textarea=t,e.appendChild(t);const a=this.keyGenerator(C.KEYS_CONFIG);e.appendChild(a),document.body.appendChild(e),document.addEventListener("keyup",this.keyUpHandler.bind(this)),document.addEventListener("keydown",this.keyDownHandler.bind(this)),document.addEventListener("keyup",this.toggleCapsLock.bind(this)),document.addEventListener("keydown",this.languageSwitch.bind(this)),e.addEventListener("mouseup",this.mouseUpHandler.bind(this)),e.addEventListener("mousedown",this.mouseDownHandler.bind(this));const n=((e,s,t,a,n)=>{const c=document.createElement(e),r=document.createElement(s);r.classList.add(t),r.innerHTML="The keyboard was created in the Windows operating system",c.appendChild(r);const i=document.createElement(a);return i.classList.add(n),i.innerHTML="To switch the language, you must use the manual keyboard with the combination:  left Ctrl + Alt",c.appendChild(i),c})("footer","p","footerTitle","p","language");e.appendChild(n),this.initLang()}mouseDownHandler(e){this.current.element=e.target.closest("div"),this.current.element.classList.contains("Space")?this.btnDown():"SPAN"===e.target.tagName&&(this.current.event=e,this.current.code=e.target.innerHTML,this.current.element&&(this.current.char=e.target.innerHTML,this.toggleCapsLock(this.current.char),"CapsLock"!==this.current.char&&(this.specialKeysHandler(this.current.char),C.FN_BTN.includes(this.current.char)||C.FN_Mouse.includes(this.current.char)||this.inputText(this.current.char)),"Shift"===this.current.char?(!1===this.state.isShiftLeftPressed?(this.addActiveState(),this.state.isShiftLeftPressed=!0):(this.state.isShiftLeftPressed=!1,this.removeActiveState()),this.toggleKeysCase()):(this.toggleKeysCase(),this.btnDown())))}mouseUpHandler(e){if(this.current.element=e.target.closest("div"),this.current.event=e,this.current.element.classList.contains("ShiftLeft")){const s=e.target.parentElement.closest("div").parentElement.getElementsByClassName("ShiftRight");s[0].classList.contains("active")&&s[0].classList.remove("active")}if(this.current.element.classList.contains("ShiftRight")){const s=e.target.parentElement.closest("div").parentElement.getElementsByClassName("ShiftLeft");s[0].classList.contains("active")&&s[0].classList.remove("active")}this.btnUp(),this.current.element.classList.contains("Space")&&(this.current.char=this.current.element.querySelectorAll(":not(.hidden)")[1].textContent,this.inputText(this.current.char),this.btnUp())}keyGenerator(e){const s=document.createElement("div");s.classList.add("keyboardBody"),this.element=s;const t=document.createDocumentFragment();for(let s=0;s<e.length;s+=1){const a=document.createElement("div");a.classList.add("keyboardRow");for(let t=0;t<e[s].length;t+=1){const n=document.createElement("div");n.classList.add("keyboard--key","key",e[s][t].className);const c=document.createElement("span");c.classList.add("rus","hidden"),c.insertAdjacentHTML("afterBegin",`<span class="caseDown hidden">${e[s][t].rus.caseDown}</span>`),c.insertAdjacentHTML("beforeEnd",`<span class="caseUp hidden">${e[s][t].rus.caseUp}</span>`),c.insertAdjacentHTML("beforeEnd",`<span class="caps hidden">${e[s][t].rus.caps||e[s][t].rus.caseUp}</span>`),c.insertAdjacentHTML("beforeEnd",`<span class="shiftCaps hidden">${e[s][t].rus.shiftCaps||e[s][t].rus.caseDown}</span>`),n.appendChild(c);const r=document.createElement("span");r.classList.add("eng"),r.insertAdjacentHTML("afterBegin",`<span class="caseDown">${e[s][t].eng.caseDown}</span>`),r.insertAdjacentHTML("beforeEnd",`<span class="caseUp hidden">${e[s][t].eng.caseUp}</span>`),r.insertAdjacentHTML("beforeEnd",`<span class="caps hidden ">${e[s][t].eng.caps||e[s][t].eng.caseUp}</span>`),r.insertAdjacentHTML("beforeEnd",`<span class="shiftCaps hidden">${e[s][t].eng.shiftCaps||e[s][t].eng.caseDown}</span>`),n.appendChild(r),a.appendChild(n)}t.appendChild(a)}return s.appendChild(t),s}keyUpHandler(e){const s=this.element.getElementsByClassName(e.code)[0];switch(s&&(this.current.element=s.closest("div"),this.turnOffHighLightPressedButton()),e.code){case"ShiftLeft":this.state.isCapsLockPressed,this.state.isShiftLeftPressed=!1,this.toggleKeysCase(),this.btnUp();break;case"ShiftRight":this.state.isCapsLockPressed,this.state.isShiftRightPressed=!1,this.toggleKeysCase(),this.btnUp();break;case"Backspace":case"Delete":case"Tab":case"Enter":case"AltRight":case"AltLeft":case"ControlRight":case"ControlLeft":case"MetaLeft":C.FN_BTN.includes(e.code)&&this.btnUp();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":C.FN_BTN.includes(e.code)||this.btnUp()}}inputText(e){const s=this.textarea.value,t=this.textarea.selectionStart;let a="";const n=e;t>=0&&t<=s.length?(a+=s.slice(0,t),a+=this.current.char,a+=s.slice(t,s.length),this.textarea.value=a,this.textarea.selectionStart=t+this.current.char.length,this.textarea.selectionEnd=t+this.current.char.length):this.textarea.value+=n}specialKeysHandler(e){const s=e.code||e,t=this.textarea.value,a=this.textarea.selectionStart;switch(s){case"ShiftLeft":this.state.isCapsLockPressed,this.state.isShiftLeftPressed=!0,this.toggleKeysCase(),this.btnDown();break;case"ShiftRight":this.state.isCapsLockPressed,this.state.isShiftRightPressed=!0,this.toggleKeysCase(),this.btnDown();break;case"Backspace":if(C.FN_BTN.includes(s)){let e="";a>0&&a<=t.length&&(e=t.slice(0,a-1)+t.slice(a,t.length),this.textarea.value=e,this.textarea.focus(),this.textarea.selectionStart=a-1,this.textarea.selectionEnd=a-1),this.btnDown()}break;case"Delete":if(C.FN_BTN.includes(s)){let e="";a>=0&&a<=t.length-1&&(e=t.slice(0,a)+t.slice(a+1,t.length),this.textarea.value=e,this.textarea.focus(),this.textarea.selectionStart=a,this.textarea.selectionEnd=a),this.btnDown()}break;case"Del":{let e="";a>=0&&a<=t.length-1&&(e=t.slice(0,a)+t.slice(a+1,t.length),this.textarea.value=e,this.textarea.focus(),this.textarea.selectionStart=a,this.textarea.selectionEnd=a),this.btnDown()}break;case"Tab":C.FN_BTN.includes(s)&&(this.current.char="    ",this.btnDown());break;case"Enter":C.FN_BTN.includes(s)&&(this.current.char="\n",this.btnDown());break;case"AltRight":case"AltLeft":case"ControlRight":case"ControlLeft":case"MetaLeft":C.FN_BTN.includes(s)&&this.btnDown();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":C.FN_BTN.includes(s)||this.btnDown()}}keyDownHandler(e){e.preventDefault(),this.current.event=e,this.current.code=e.code;const s=this.textarea.value,t=this.textarea.selectionStart;switch([this.current.element]=this.element.getElementsByClassName(e.code),this.current.element&&(this.current.char=this.current.element.querySelectorAll(":not(.hidden)")[1].textContent,this.turnOnHighLightPressedButton()),e.code){case"ShiftLeft":this.state.isCapsLockPressed,this.state.isShiftLeftPressed=!0,this.toggleKeysCase(),this.btnDown();break;case"ShiftRight":this.state.isCapsLockPressed,this.state.isShiftRightPressed=!0,this.toggleKeysCase(),this.btnDown();break;case"Backspace":if(C.FN_BTN.includes(e.code)){let e="";t>0&&t<=s.length&&(e=s.slice(0,t-1)+s.slice(t,s.length),this.textarea.value=e,this.textarea.selectionStart=t-1,this.textarea.selectionEnd=t-1),this.btnDown()}break;case"Delete":if(C.FN_BTN.includes(e.code)){let e="";t>=0&&t<=s.length-1&&(e=s.slice(0,t)+s.slice(t+1,s.length),this.textarea.value=e,this.textarea.selectionStart=t,this.textarea.selectionEnd=t),this.btnDown()}break;case"Tab":C.FN_BTN.includes(e.code)&&(this.current.char="    ",this.inputText(e.key),this.btnDown());break;case"Enter":C.FN_BTN.includes(e.code)&&(this.current.char="\n",this.inputText(e.key),this.btnDown());break;case"AltRight":case"AltLeft":case"ControlRight":case"ControlLeft":case"MetaLeft":C.FN_BTN.includes(e.code)&&this.btnDown();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":C.FN_BTN.includes(e.code)||this.btnDown()}C.FN_BTN.includes(e.code)||this.inputText(e.key)}toggleCapsLock(e){"CapsLock"===(e.code||e)&&(this.state.isCapsLockPressed?(this.removeActiveState(),this.state.isCapsLockPressed=!1,this.toggleKeysCase()):(this.addActiveState(),this.state.isCapsLockPressed=!0,this.toggleKeysCase()))}addActiveState(){this.current.element.classList.add("active")}turnOnHighLightPressedButton(){this.current.element.classList.add("pressed")}turnOffHighLightPressedButton(){this.current.element.classList.remove("pressed")}btnDown(){this.current.element.classList.add("pressed")}btnUp(){this.current.element.classList.remove("pressed")}removeActiveState(){this.current.element.classList.remove("active")}toggleLang(){const e=this.element.querySelectorAll(`div>.${this.state.lang}`);for(let s=0;s<e.length;s+=1)e[s].classList.toggle("hidden"),e[s].querySelectorAll(`span.${this.state.case}`)[0].classList.toggle("hidden")}languageSwitch(e){this.toggleLang(),e.ctrlKey&&e.altKey&&("eng"===localStorage.getItem("lang")?localStorage.setItem("lang","rus"):localStorage.setItem("lang","eng"),this.state.lang=localStorage.getItem("lang")),this.toggleLang()}initLang(){void 0===localStorage.lang&&localStorage.setItem("lang",this.state.lang),this.toggleLang(),this.state.lang=localStorage.getItem("lang"),this.toggleLang()}toggleKeysCase(){const e=this.element.querySelectorAll(`div>.${this.state.lang}`);for(let s=0;s<e.length;s+=1)!this.state.isCapsLockPressed||!1!==this.state.isShiftLeftPressed&&!1!==this.state.isShiftRightPressed?(e[s].querySelectorAll("span")[1].classList.add("hidden"),e[s].querySelectorAll("span")[2].classList.add("hidden"),e[s].querySelectorAll("span")[0].classList.remove("hidden"),this.state.case="caseDown"):(e[s].querySelectorAll("span")[0].classList.add("hidden"),e[s].querySelectorAll("span")[3].classList.add("hidden"),e[s].querySelectorAll("span")[2].classList.remove("hidden"),this.state.case="caps"),(this.state.isShiftLeftPressed||this.state.isShiftRightPressed)&&(this.state.isCapsLockPressed?(e[s].querySelectorAll("span")[0].classList.add("hidden"),e[s].querySelectorAll("span")[1].classList.add("hidden"),e[s].querySelectorAll("span")[2].classList.add("hidden"),e[s].querySelectorAll("span")[3].classList.remove("hidden"),this.state.case="shiftCaps"):(e[s].querySelectorAll("span")[1].classList.remove("hidden"),e[s].querySelectorAll("span")[2].classList.add("hidden"),e[s].querySelectorAll("span")[3].classList.add("hidden"),e[s].querySelectorAll("span")[0].classList.add("hidden"),this.state.case="caseUp"))}}).initKeyboard()})()})();